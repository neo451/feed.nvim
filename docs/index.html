<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc-markdown-css-theme" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>feed.nvim</title>
  <link rel="stylesheet" href="./theme.css" />
  <link rel="stylesheet" href="./skylighting-solarized-theme.css" />
</head>
<body>

<header>
<h1 class="title">feed.nvim</h1>
<blockquote class="metadata">
</blockquote>
</header>

<nav id="TOC" role="doc-toc">
    <strong>Contents</strong><label for="contents">⊕</label>
  <input type="checkbox" id="contents">
  <ul>
  <li><a href="#commands" id="toc-commands">Commands</a>
  <ul>
  <li><a href="#sub-commands-and-arguments" id="toc-sub-commands-and-arguments">Sub commands and arguments</a></li>
  <li><a href="#list-of-commands" id="toc-list-of-commands">List of commands</a></li>
  </ul></li>
  <li><a href="#keymaps" id="toc-keymaps">Keymaps</a>
  <ul>
  <li><a href="#index-buffer" id="toc-index-buffer">Index buffer</a></li>
  <li><a href="#entry-buffer" id="toc-entry-buffer">Entry buffer</a></li>
  </ul></li>
  <li><a href="#manage" id="toc-manage">Manage</a>
  <ul>
  <li><a href="#from-lua" id="toc-from-lua">From lua</a></li>
  <li><a href="#from-opml" id="toc-from-opml">From OPML</a></li>
  <li><a href="#link-formats" id="toc-link-formats">Link formats</a></li>
  </ul></li>
  <li><a href="#search" id="toc-search">Search</a>
  <ul>
  <li><a href="#regex" id="toc-regex">Regex</a></li>
  <li><a href="#tags" id="toc-tags">Tags</a></li>
  <li><a href="#date" id="toc-date">Date</a></li>
  <li><a href="#limit" id="toc-limit">Limit</a></li>
  <li><a href="#examples" id="toc-examples">Examples</a></li>
  <li><a href="#grep" id="toc-grep">Grep</a></li>
  </ul></li>
  <li><a href="#recipes" id="toc-recipes">Recipes</a></li>
  <li><a href="#lua-api" id="toc-lua-api">Lua API</a></li>
  </ul>
</nav>

<main>
<figure>

</figure>
<figure>

</figure>
<h2 id="commands">Commands</h2>
<h3 id="sub-commands-and-arguments">Sub commands and arguments</h3>
<p>To execute actions available in the current context, or give arguments to the command, use the following syntax:</p>
<p>Use <code>:Feed &lt;Tab&gt;</code>, <code>:Feed update_feed &lt;Tab&gt;</code> to get the completion</p>
<p>Use <code>:Feed&lt;Enter&gt;</code>, <code>:Feed update_feed&lt;Enter&gt;</code> to open menu and select</p>
<h3 id="list-of-commands">List of commands</h3>
<table>
<colgroup>
<col style="width: 26%" />
<col style="width: 70%" />
<col style="width: 3%" />
</colgroup>
<thead>
<tr class="header">
<th>name</th>
<th>desc</th>
<th>bang</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>Feed &lt;query&gt;</code></td>
<td>opens a index buffer, a list view based on the filter you passed in</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>Feed index</code></td>
<td>opens a index buffer, a list view based on your default filter</td>
<td>no</td>
</tr>
<tr class="odd">
<td><code>Feed entry</code></td>
<td>opens a entry buffer, a markdown view of the entry content</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>Feed update</code></td>
<td>updates all feeds in the database</td>
<td>no</td>
</tr>
<tr class="odd">
<td><code>Feed update_feed &lt;feed_url&gt;</code></td>
<td>update a single feed in the database</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>Feed sync</code></td>
<td>sync the database with your config, removes feeds and entries (if bang) not present</td>
<td>yes</td>
</tr>
<tr class="odd">
<td><code>Feed search &lt;query&gt;</code></td>
<td>opens picker to live search your database</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>Feed grep</code></td>
<td>opens picker to live grep your database (experimental)</td>
<td>no</td>
</tr>
<tr class="odd">
<td><code>Feed list</code></td>
<td>opens a split to show info about all your feeds in database</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>Feed log</code></td>
<td>opens a split to show log</td>
<td>no</td>
</tr>
<tr class="odd">
<td><code>Feed load_opml &lt;filepath/url&gt;</code></td>
<td>import from an OPML file or url</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>Feed export_opml &lt;filepath&gt;</code></td>
<td>export to an OPML file</td>
<td>no</td>
</tr>
<tr class="odd">
<td><code>Feed web &lt;port&gt;</code></td>
<td>opens a server on a port and opens the web interface in browser</td>
<td>no</td>
</tr>
<tr class="even">
<td><code>Feed urlview</code></td>
<td>opens a select UI to picker urls in entry buffer, <cr> to open in browser</td>
<td>no</td>
</tr>
</tbody>
</table>
<h2 id="keymaps">Keymaps</h2>
<p>By default, feed.nvim will not set any keymaps for you, press <code>?</code> in to see buffer-local keymaps.</p>
<h3 id="index-buffer">Index buffer</h3>
<table>
<thead>
<tr class="header">
<th>action</th>
<th>key</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>hints</td>
<td><code>?</code></td>
</tr>
<tr class="even">
<td>dot_repeat</td>
<td><code>.</code></td>
</tr>
<tr class="odd">
<td>undo</td>
<td><code>u</code></td>
</tr>
<tr class="even">
<td>redo</td>
<td><code>&lt;C-r&gt;</code></td>
</tr>
<tr class="odd">
<td>entry</td>
<td><code>&lt;CR&gt;</code></td>
</tr>
<tr class="even">
<td>split</td>
<td><code>&lt;M-CR&gt;</code></td>
</tr>
<tr class="odd">
<td>browser</td>
<td><code>b</code></td>
</tr>
<tr class="even">
<td>refresh</td>
<td><code>r</code></td>
</tr>
<tr class="odd">
<td>update</td>
<td><code>R</code></td>
</tr>
<tr class="even">
<td>search</td>
<td><code>s</code></td>
</tr>
<tr class="odd">
<td>yank_url</td>
<td><code>Y</code></td>
</tr>
<tr class="even">
<td>untag</td>
<td><code>-</code></td>
</tr>
<tr class="odd">
<td>tag</td>
<td><code>+</code></td>
</tr>
<tr class="even">
<td>quit</td>
<td><code>q</code></td>
</tr>
</tbody>
</table>
<h3 id="entry-buffer">Entry buffer</h3>
<table>
<thead>
<tr class="header">
<th>action</th>
<th>key</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>hints</td>
<td><code>?</code></td>
</tr>
<tr class="even">
<td>browser</td>
<td><code>b</code></td>
</tr>
<tr class="odd">
<td>next</td>
<td><code>}</code></td>
</tr>
<tr class="even">
<td>prev</td>
<td><code>{</code></td>
</tr>
<tr class="odd">
<td>full</td>
<td><code>f</code></td>
</tr>
<tr class="even">
<td>search</td>
<td><code>s</code></td>
</tr>
<tr class="odd">
<td>untag</td>
<td><code>-</code></td>
</tr>
<tr class="even">
<td>tag</td>
<td><code>+</code></td>
</tr>
<tr class="odd">
<td>urlview</td>
<td><code>r</code></td>
</tr>
<tr class="even">
<td>yank_url</td>
<td><code>Y</code></td>
</tr>
<tr class="odd">
<td>quit</td>
<td><code>q</code></td>
</tr>
</tbody>
</table>
<h2 id="manage">Manage</h2>
<h3 id="from-lua">From lua</h3>
<p>Pass your feeds as list of links and tags in setup</p>
<p>Use <code>Feed update</code> to update all</p>
<p>Use <code>Feed update_feed</code> to update one feed</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode lua"><code class="sourceCode lua"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">&quot;feed&quot;</span><span class="op">).</span>setup<span class="op">({</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>   <span class="va">feeds</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>      <span class="co">-- These two styles both work</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;https://neovim.io/news.xml&quot;</span><span class="op">,</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>      <span class="op">{</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>         <span class="st">&quot;https://neovim.io/news.xml&quot;</span><span class="op">,</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>         <span class="va">name</span> <span class="op">=</span> <span class="st">&quot;Neovim News&quot;</span><span class="op">,</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>         <span class="va">tags</span> <span class="op">=</span> <span class="op">{</span> <span class="st">&quot;tech&quot;</span><span class="op">,</span> <span class="st">&quot;news&quot;</span> <span class="op">},</span> <span class="co">-- tags given are inherited by all its entries</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>      <span class="op">},</span></span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>      <span class="co">-- three link formats:</span></span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;https://neovim.io/news.xml&quot;</span><span class="op">,</span> <span class="co">-- Regular links</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;rsshub://rsshub://apnews/topics/apf-topnews&quot;</span> <span class="co">-- RSSHub links</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>      <span class="st">&quot;neovim/neovim/releases&quot;</span> <span class="co">-- GitHub links</span></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>   <span class="op">},</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div>
<h3 id="from-opml">From OPML</h3>
<p>Use <code>Feed load_opml</code> to import your OPML file</p>
<p>Use <code>Feed export_opml</code> to export your OPML file to load in other readers</p>
<h3 id="link-formats">Link formats</h3>
<h4 id="regular-links">Regular links</h4>
<p>Must start with <code>http</code> or <code>https</code></p>
<h4 id="rsshub-links">RSSHub links</h4>
<p>RSSHub links are first class citizens, format is <code>rsshub://{route}</code></p>
<p><code>rsshub://{route}</code> will be resolved when fetching according to your config</p>
<p>Discover available <code>{route}</code> in <a href="https://docs.rsshub.app/routes/popular">RSSHub documentation</a> <code>rsshub://apnews/topics/apf-topnews</code> will be resolved to <code>https://rsshub.app/apnews/topics/apf-topnews</code> by default</p>
<p>Config example:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode lua"><code class="sourceCode lua"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">&quot;feed&quot;</span><span class="op">).</span>setup<span class="op">({</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>   <span class="va">rsshub</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>      <span class="va">instance</span> <span class="op">=</span> <span class="st">&quot;127.0.0.1:1200&quot;</span><span class="op">,</span> <span class="co">-- or any public instance listed here https://rsshub.netlify.app/instances</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>      <span class="va">export</span> <span class="op">=</span> <span class="st">&quot;https://rsshub.app&quot;</span><span class="op">,</span> <span class="co">-- used in export_opml</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>   <span class="op">},</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div>
<h4 id="github-links">GitHub links</h4>
<p>GitHub user/repo links are also first class citizens,format is <code>[github://]{user/repo}[{/releases|/commits}]</code>, so following four all work:</p>
<ul>
<li><code>neo451/feed.nvim</code></li>
<li><code>github://neo451/feed.nvim</code></li>
<li><code>neo451/feed.nvim/releases</code></li>
<li><code>github://neo451/feed.nvim/releases</code></li>
</ul>
<p>For now it defaults to subscribing to the commits</p>
<p>So first two is resolved into <a href="https://github.com/neo451/feed.nvim/commits.atom" class="uri">https://github.com/neo451/feed.nvim/commits.atom</a></p>
<p>Latter two is resolved into <a href="https://github.com/neo451/feed.nvim/releases.atom" class="uri">https://github.com/neo451/feed.nvim/releases.atom</a></p>
<h2 id="search">Search</h2>
<ul>
<li>use <code>Feed search</code> to filter your feeds</li>
<li>you can also pass the query like <code>Feed =neovim +read</code></li>
<li>the default query when you open up the index buffer is <code>+unread @2-weeks-ago</code></li>
</ul>
<h3 id="regex">Regex</h3>
<ul>
<li>no modifier matches entry title or entry url</li>
<li><code>!</code> is negative match with entry title or url</li>
<li><code>=</code> is matching feed name and feed url</li>
<li><code>~</code> is not matching feed name and feed url</li>
<li>these all respect your <code>ignorecase</code> option</li>
</ul>
<h3 id="tags">Tags</h3>
<ul>
<li><code>+</code> means <code>must_have</code>, searches entries’ tags</li>
<li><code>-</code> means <code>must_not_have</code>, searches entries’ tags</li>
</ul>
<h3 id="date">Date</h3>
<ul>
<li><code>@</code> means <code>date</code>, searches entries’ date</li>
<li><code>2015-8-10</code> searches only entries after the date</li>
<li><code>2-months-ago</code> searches only entries within two months from now</li>
<li><code>1-year-ago--6-months-ago</code> means entries in the period</li>
</ul>
<h3 id="limit">Limit</h3>
<ul>
<li><code>#</code> means <code>limit</code>, limits the number of entries</li>
</ul>
<h3 id="examples">Examples</h3>
<ul>
<li><code>+blog +unread -star @6-months-ago #10 zig !rust</code></li>
</ul>
<p>Only Shows 10 entries with tags blog and unread, without tag star, and are published within 6 month, making sure they have zig but not rust in the title.</p>
<ul>
<li><code>@6-months-ago +unread</code></li>
</ul>
<p>Only show unread entries of the last six months. This is the default filter.</p>
<ul>
<li><code>linu[xs] @1-year-old</code></li>
</ul>
<p>Only show entries about Linux or Linus from the last year.</p>
<ul>
<li><code>-unread +youtube ##10</code></li>
</ul>
<p>Only show the most recent 10 previously-read entries tagged as youtube.</p>
<ul>
<li><code>+unread !n\=vim</code></li>
</ul>
<p>Only show unread entries not having vim or nvim in the title or link.</p>
<ul>
<li><code>+emacs =http://example.org/feed/</code></li>
</ul>
<p>Only show entries tagged as emacs from a specific feed.</p>
<h3 id="grep">Grep</h3>
<p>Use <code>Feed grep</code> to live grep all entries in your database, requires <code>rg</code> and one of the search backends:</p>
<ul>
<li><code>telescope</code></li>
<li><code>fzf-lua</code></li>
<li><code>mini.pick</code></li>
</ul>
<h2 id="recipes">Recipes</h2>
<details>
<summary>
Change the highlight of the tags section and use emojis and mini.icons for tags
</summary>
<div class="sourceCode" id="cb3"><pre class="sourceCode lua"><code class="sourceCode lua"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">&quot;feed&quot;</span><span class="op">).</span>setup<span class="op">({</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>   <span class="va">ui</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>      <span class="va">tags</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>         <span class="va">color</span> <span class="op">=</span> <span class="st">&quot;String&quot;</span><span class="op">,</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>         <span class="fu">format</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">id</span><span class="op">,</span> <span class="va">db</span><span class="op">)</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            <span class="kw">local</span> <span class="va">icons</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>               <span class="va">news</span> <span class="op">=</span> <span class="st">&quot;📰&quot;</span><span class="op">,</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>               <span class="va">tech</span> <span class="op">=</span> <span class="st">&quot;💻&quot;</span><span class="op">,</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>               <span class="va">movies</span> <span class="op">=</span> <span class="st">&quot;🎬&quot;</span><span class="op">,</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>               <span class="va">games</span> <span class="op">=</span> <span class="st">&quot;🎮&quot;</span><span class="op">,</span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>               <span class="va">music</span> <span class="op">=</span> <span class="st">&quot;🎵&quot;</span><span class="op">,</span></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>               <span class="va">podcast</span> <span class="op">=</span> <span class="st">&quot;🎧&quot;</span><span class="op">,</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>               <span class="va">books</span> <span class="op">=</span> <span class="st">&quot;📚&quot;</span><span class="op">,</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>               <span class="va">unread</span> <span class="op">=</span> <span class="st">&quot;🆕&quot;</span><span class="op">,</span></span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>               <span class="fu">read</span> <span class="op">=</span> <span class="st">&quot;✅&quot;</span><span class="op">,</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>               <span class="va">junk</span> <span class="op">=</span> <span class="st">&quot;🚮&quot;</span><span class="op">,</span></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>               <span class="va">star</span> <span class="op">=</span> <span class="st">&quot;⭐&quot;</span><span class="op">,</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            <span class="op">}</span></span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>            <span class="kw">local</span> <span class="va">get_icon</span> <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">name</span><span class="op">)</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span> <span class="va">icons</span><span class="op">[</span><span class="va">name</span><span class="op">]</span> <span class="cf">then</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">return</span> <span class="va">icons</span><span class="op">[</span><span class="va">name</span><span class="op">]</span></span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>               <span class="cf">end</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>               <span class="kw">local</span> <span class="va">has_mini</span><span class="op">,</span> <span class="va">MiniIcons</span> <span class="op">=</span> <span class="fu">pcall</span><span class="op">(</span><span class="fu">require</span><span class="op">,</span> <span class="st">&quot;mini.icons&quot;</span><span class="op">)</span></span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>               <span class="cf">if</span> <span class="va">has_mini</span> <span class="cf">then</span></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>                  <span class="kw">local</span> <span class="va">icon</span> <span class="op">=</span> <span class="va">MiniIcons</span><span class="op">.</span>get<span class="op">(</span><span class="st">&quot;filetype&quot;</span><span class="op">,</span> <span class="va">name</span><span class="op">)</span></span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">if</span> <span class="va">icon</span> <span class="cf">then</span></span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>                     <span class="cf">return</span> <span class="va">icon</span> <span class="op">..</span> <span class="st">&quot; &quot;</span></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>                  <span class="cf">end</span></span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>               <span class="cf">end</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a>               <span class="cf">return</span> <span class="va">name</span></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>            <span class="kw">end</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>            <span class="kw">local</span> <span class="va">tags</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span>tbl_map<span class="op">(</span><span class="va">get_icon</span><span class="op">,</span> <span class="va">db</span><span class="op">:</span>get_tags<span class="op">(</span><span class="va">id</span><span class="op">))</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>            <span class="fu">table.sort</span><span class="op">(</span><span class="va">tags</span><span class="op">)</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>            <span class="cf">return</span> <span class="st">&quot;[&quot;</span> <span class="op">..</span> <span class="fu">table.concat</span><span class="op">(</span><span class="va">tags</span><span class="op">,</span> <span class="st">&quot;, &quot;</span><span class="op">)</span> <span class="op">..</span> <span class="st">&quot;]&quot;</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a>         <span class="kw">end</span><span class="op">,</span></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>      <span class="op">},</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a>   <span class="op">},</span></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div>
</details>
<details>
<summary>
Custom function &amp; keymap for podcast and w3m
</summary>
<div class="sourceCode" id="cb4"><pre class="sourceCode lua"><code class="sourceCode lua"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="kw">function</span> play_podcast<span class="op">()</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>   <span class="kw">local</span> <span class="va">link</span> <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">&quot;feed&quot;</span><span class="op">).</span>get_entry<span class="op">().</span><span class="va">link</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> <span class="va">link</span><span class="op">:</span><span class="fu">find</span><span class="op">(</span><span class="st">&quot;mp3&quot;</span><span class="op">)</span> <span class="cf">then</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>      <span class="va">vim</span><span class="op">.</span><span class="va">ui</span><span class="op">.</span>open<span class="op">(</span><span class="va">link</span><span class="op">)</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>   <span class="co">-- any other player like:</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>   <span class="co">-- vim.system({ &quot;vlc.exe&quot;, link })</span></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>   <span class="cf">else</span></span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>      <span class="va">vim</span><span class="op">.</span>notify<span class="op">(</span><span class="st">&quot;not a podcast episode&quot;</span><span class="op">)</span></span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>   <span class="cf">end</span></span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="kw">function</span> show_in_w3m<span class="op">()</span></span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>   <span class="cf">if</span> <span class="kw">not</span> <span class="va">vim</span><span class="op">.</span><span class="va">fn</span><span class="op">.</span>executable<span class="op">(</span><span class="st">&quot;w3m&quot;</span><span class="op">)</span> <span class="cf">then</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>      <span class="va">vim</span><span class="op">.</span>notify<span class="op">(</span><span class="st">&quot;w3m not installed&quot;</span><span class="op">)</span></span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>      <span class="cf">return</span></span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>   <span class="cf">end</span></span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>   <span class="kw">local</span> <span class="va">link</span> <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">&quot;feed&quot;</span><span class="op">).</span>get_entry<span class="op">().</span><span class="va">link</span></span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>   <span class="kw">local</span> <span class="va">w3m</span> <span class="op">=</span> <span class="fu">require</span><span class="op">(</span><span class="st">&quot;feed.ui.window&quot;</span><span class="op">).</span>new<span class="op">({</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>      <span class="va">relative</span> <span class="op">=</span> <span class="st">&quot;editor&quot;</span><span class="op">,</span></span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>      <span class="va">col</span> <span class="op">=</span> <span class="fu">math.floor</span><span class="op">(</span><span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">columns</span> <span class="op">*</span> <span class="dv">0.1</span><span class="op">),</span></span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>      <span class="va">row</span> <span class="op">=</span> <span class="fu">math.floor</span><span class="op">(</span><span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">lines</span> <span class="op">*</span> <span class="dv">0.1</span><span class="op">),</span></span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>      <span class="va">width</span> <span class="op">=</span> <span class="fu">math.floor</span><span class="op">(</span><span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">columns</span> <span class="op">*</span> <span class="dv">0.8</span><span class="op">),</span></span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>      <span class="va">height</span> <span class="op">=</span> <span class="fu">math.floor</span><span class="op">(</span><span class="va">vim</span><span class="op">.</span><span class="va">o</span><span class="op">.</span><span class="va">lines</span> <span class="op">*</span> <span class="dv">0.8</span><span class="op">),</span></span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>      <span class="va">border</span> <span class="op">=</span> <span class="st">&quot;rounded&quot;</span><span class="op">,</span></span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>      <span class="va">style</span> <span class="op">=</span> <span class="st">&quot;minimal&quot;</span><span class="op">,</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>      <span class="va">title</span> <span class="op">=</span> <span class="st">&quot;Feed w3m&quot;</span><span class="op">,</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>      <span class="va">zindex</span> <span class="op">=</span> <span class="dv">10</span><span class="op">,</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>   <span class="op">})</span></span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>   <span class="va">vim</span><span class="op">.</span><span class="va">keymap</span><span class="op">.</span>set<span class="op">({</span> <span class="st">&quot;n&quot;</span><span class="op">,</span> <span class="st">&quot;t&quot;</span> <span class="op">},</span> <span class="st">&quot;q&quot;</span><span class="op">,</span> <span class="st">&quot;&lt;cmd&gt;q&lt;cr&gt;&quot;</span><span class="op">,</span> <span class="op">{</span> <span class="va">silent</span> <span class="op">=</span> <span class="kw">true</span><span class="op">,</span> <span class="va">buffer</span> <span class="op">=</span> <span class="va">w3m</span><span class="op">.</span><span class="va">buf</span> <span class="op">})</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>   <span class="va">vim</span><span class="op">.</span><span class="va">fn</span><span class="op">.</span>jobstart<span class="op">({</span> <span class="st">&quot;w3m&quot;</span><span class="op">,</span> <span class="va">link</span> <span class="op">},</span> <span class="op">{</span> <span class="va">term</span> <span class="op">=</span> <span class="kw">true</span> <span class="op">})</span></span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>   <span class="va">vim</span><span class="op">.</span>cmd<span class="op">(</span><span class="st">&quot;startinsert&quot;</span><span class="op">)</span></span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a><span class="fu">require</span><span class="op">(</span><span class="st">&quot;feed&quot;</span><span class="op">).</span>setup<span class="op">({</span></span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>   <span class="va">keys</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>      <span class="va">index</span> <span class="op">=</span> <span class="op">{</span></span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>         <span class="op">[</span><span class="va">play_podcast</span><span class="op">]</span> <span class="op">=</span> <span class="st">&quot;p&quot;</span><span class="op">,</span></span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>         <span class="op">[</span><span class="va">show_in_w3m</span><span class="op">]</span> <span class="op">=</span> <span class="st">&quot;w&quot;</span><span class="op">,</span></span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>      <span class="op">},</span></span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>   <span class="op">},</span></span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div>
</details>
<details>
<summary>
Custom colorscheme only set when viewing feeds
</summary>
<div class="sourceCode" id="cb5"><pre class="sourceCode lua"><code class="sourceCode lua"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="kw">local</span> <span class="va">og_color</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">api</span><span class="op">.</span>nvim_create_autocmd<span class="op">(</span><span class="st">&quot;User&quot;</span><span class="op">,</span> <span class="op">{</span></span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>   <span class="va">pattern</span> <span class="op">=</span> <span class="st">&quot;FeedShowIndex&quot;</span><span class="op">,</span></span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>   <span class="va">callback</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span></span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>      <span class="cf">if</span> <span class="kw">not</span> <span class="va">og_color</span> <span class="cf">then</span></span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>         <span class="va">og_color</span> <span class="op">=</span> <span class="va">vim</span><span class="op">.</span><span class="va">g</span><span class="op">.</span><span class="va">colors_name</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>      <span class="cf">end</span></span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a>      <span class="va">vim</span><span class="op">.</span><span class="va">cmd</span><span class="op">.</span>colorscheme<span class="op">(</span><span class="st">&quot;kanagawa-lotus&quot;</span><span class="op">)</span></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>   <span class="kw">end</span><span class="op">,</span></span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a><span class="va">vim</span><span class="op">.</span><span class="va">api</span><span class="op">.</span>nvim_create_autocmd<span class="op">(</span><span class="st">&quot;User&quot;</span><span class="op">,</span> <span class="op">{</span></span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a>   <span class="va">pattern</span> <span class="op">=</span> <span class="st">&quot;FeedQuitIndex&quot;</span><span class="op">,</span></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>   <span class="va">callback</span> <span class="op">=</span> <span class="kw">function</span><span class="op">()</span></span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>      <span class="va">vim</span><span class="op">.</span><span class="va">cmd</span><span class="op">.</span>colorscheme<span class="op">(</span><span class="va">og_color</span><span class="op">)</span></span>
<span id="cb5-17"><a href="#cb5-17" aria-hidden="true" tabindex="-1"></a>   <span class="kw">end</span><span class="op">,</span></span>
<span id="cb5-18"><a href="#cb5-18" aria-hidden="true" tabindex="-1"></a><span class="op">})</span></span></code></pre></div>
</details>
<h2 id="lua-api">Lua API</h2>
<p>:TODO:</p>
</main>

<script>
;(function() {
  // Non-essential if user has JavaScript off. Just makes checkboxes look nicer.
  var selector = '.task-list > li > input[type="checkbox"]';
  var checkboxes = document.querySelectorAll(selector);
  Array.from(checkboxes).forEach((checkbox) => {
    var wasChecked = checkbox.checked;
    checkbox.disabled = false;
    checkbox.addEventListener('click', (ev) => {ev.target.checked = wasChecked});
  });
})();
</script>
</body>
</html>
